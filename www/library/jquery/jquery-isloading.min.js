$(document).ready(function() {
    /****************************** WIDE-SITE FUNCTIONS **************************/
    function Dialog(message) 
    {
        this.dialog = this;
        this.message = message;
    }

    Dialog.prototype = 
    {
        show: function(message) 
        {
        	if ($("#loading"))
    		{
            	$("#loading").show();
            	
            	setTimeout(function() {
                	$("#loading").fadeOut();
                }, 1000);
            	
                return this;
    		}
        },

        hide: function() 
        {
            this.onclose();

            setTimeout(function() {
            	$("#loading").fadeOut();
            }, 1000);
            
            return this;
        },
        
        onclose : function()
        {
            return true; 
        }
    }

    function Site() 
    {
        var ignore = 'no-loading';
        this.dialog = new Dialog().show();

        if ($("a") && 
           !$('a').hasClass('chosen-single') &&
           !$('a').hasClass('multiselect') &&
           !$('a').hasClass(ignore))
		{
        	$('a').click(function() {
        		if (this.href.indexOf('#') < 0)
        			site.dialog.show();
        	});
		}
        
        if ($('input:image') && !$('input:image').hasClass(ignore)) 
        {
            $('input:image').click(function() {
                site.dialog.show();
            });
        }

        if ($('input:button') && !$('input:button').hasClass(ignore)) 
        {
        	$('input:button').click(function() {
        		site.dialog.show();
        	});
        }
        
        if ($('button[type="submit"]') && !$('button[type="submit"]').hasClass(ignore)) 
        {
        	$('button[type="submit"]').click(function() {
        		site.dialog.show();
        	});
        }
    }

    /****************************** WIDE-SITE VARIABLES **************************/
    var site = new Site();
   	
    if (site.dialog) {
    	site.dialog.hide();    	
    }
})